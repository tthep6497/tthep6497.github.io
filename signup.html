<!doctype html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name = "viewport" content = "width=device - width, initial-scale = 1.0">
    <title>
    GameStore - SignUp
    </title>

<!----BootStrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!--Styles-->
<style>
    .error
    {
        border-color: #FF0000
    }
    .error-msg
    {
        color:#FF0000
        font-size: 0.9rem;
        display: none;
    }
   
</style>

</head>

<body>
    <!--Header section-->
    <header class="bg-dark text-white text-center p-4">
        <img src="images/logo.png" alt = "GameStore Logo" style="height: 50px;">
      <h1>  
        SignUp for Ted's GameStore
        </h1>
    </header>
    
<!--Navigation-->

<nav class= "navbar navbar-expand-lg navbar-dark bg-primary">
    <div class= "container-fluid">
        <a class="navbar-brand" href="index.html"> Ted's GameStore
            </a>
        <button class="navbar-toggler" type="button" data-bs-toggle ="collapse" data-bs-target ="#navbarNav"
       aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" >
       <span class="navbar-toggler-icon">
        </span>
        </button>
    <div class = "collapse navbar-collapse" id="navbarNav">
        <ul class = "navbar-nav">
            <li class = "nav-item"> <a class="nav-link active" href="index.html"></a></li>
            <li class = "nav-item"> <a class="nav-link" href="Products"> </a></li>   
            <li class = "nav-item"> <a class="nav-link" href="Cart"> </a></li>
            <li class = "nav-item"> <a class="nav-link" href="Login"> </a></li>
            <li class = "nav-item"> <a class="nav-link" href="signup.html"> Sign Up </a></li>
            <li class = "nav-item"> <a class="nav-link" href= "#"Contact Us> </a></li>
        </ul>
    </div>
    </div>
</nav>

<!---Sign Up form-->

<main class = "container my-5">
    <h2 class = "mb-4">
        User SignUp
    </h2>
    <form action ="#" method="post" class="border p-4 bg-light">

<!--UserName-->
<div class="mb-3">
    <label for="username" class="form-label">
        Username:
    </label>
    <input type="text" class="form-control" id="username" placeholder="Enter Username" onfocusout="validate(this)" required>
    <span class ="error-msg" id="Username Error"> Field Must be Filled
    </span>
</div>

<!--Email-->
<div class="mb-3">
    <label for="email" class="form-label">
        Email:
    </label>
    <input type="email" class="form-control" id="email" placeholder="Enter Email" onfocusout= "validate(this)" required>
    <span class ="error-msg" id="Email Error"> Field Must be Filled
    </span>
</div>

<!--Password-->
<div class ="mb-3">
    <label for "password" class="form label">
        Password:
    </label>
    <input type="password" class="form-control" id="password" placeholder="Enter Password" onfocusout= "validate(this)" required>
    <span class ="error-msg" id="Password Error"> Field Must be Filled
    </span>
</div>

<!--Confirm Password-->
<div class ="mb-3">
    <label for "ConfirmPassword" class="form label">
        Confirm Password:
    </label>
    <input type="password" class="form-control" id="ConfirmPassword" placeholder="Confirm Password" onfocusout= "validate(this)" required>
    <span class ="error-msg" id="Confirm Password Error"> 
    </span>
</div>

<!--Submit-->
<button type = "submit" class="btn btn-primary w-100">
    Sign Up
</button>
</form>
<!---JSON-->
<div id= "jsonOutput" class="mt-4 p-3 bg-light border" style="display: none;">
    <h4>
        Submitted
    </h4>
    <pre id="jsonData">
        </pre>
</div>
</main>
<!--JavaScript and Validation-->
<script>
    function validateForm()
    {
      //email
      const email = document.getElementById('email');
      const emailError = document.getElementById('emailError');
      const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      if (!email.value.match(emailPattern))
      {
        email.classList.add('error');
        emailError.style.display = 'block';
        isValid = false;
      }
      else
      {
        email.classList.remove('error')
        emailError.style.display = 'none';
      }

      //username
      const username = document.getElementById('username');
      const usernameError = document.getElementById('usernameError');
      if (username.value.trim() === '')
      {
        username.classList.add('error');
        usernameError.style.display = 'block';
        isValid = false;
      }
      else
      {
        username.classList.remove('error');
        usernameError.style.display = 'none';
      }

      //password
      const password = document.getElementById('password');
      const passwordError = document.getElementById('passwordError');
      if (password.value.trim() === '')
      {
        password.classList.add('error');
        passwordError.style.display = 'block';
        isValid = false;
      }
      else
      {
        password.classList.remove('error');
        passwordError.style.display = 'none';
      }

      //confirm password
      const confirmPassword = document.getElementId('confirmPassword');
      const confirmPasswordError = document.getElementById('confirmPasswordError');
      if (confirmPassword.value !== password.value || confirmPassword.value.trim() === '')
      {
        confirmPassword.classList.add('error');
        confirmPasswordError.style.display = 'none';
      }
      return isValid;
    }

function submitForm()
{
 if (validateForm())
{
    const formDate = 
    {
        email: document.getElementById('email').value,
        username: document.getElementById('username').value,
        password: document.getElementById('password').value,
        confirmPassword: document.getElementById('confirmPassword').value
    }
    //display the data
    document.getElementById('jsonData').textContent = JSON.stringify(formData, null, 4);
    document.getElementById('jsonOutput').style.display = 'block';
}   
}
</script>

</body>

</html>